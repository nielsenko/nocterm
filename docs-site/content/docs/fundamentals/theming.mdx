---
title: Theming
description: Applying consistent colors and styles across your app
icon: palette
---

Nocterm includes a theming system that makes it easy to apply consistent colors across your app. You can use built-in themes, customize them, or create your own.

## Quick start

Wrap your app in `TuiTheme` to provide a theme:

```dart
import 'package:nocterm/nocterm.dart';

void main() {
  runApp(
    TuiTheme(
      data: TuiThemeData.dark,
      child: MyApp(),
    ),
  );
}
```

Access theme colors in any component:

```dart
class MyComponent extends StatelessComponent {
  const MyComponent({super.key});

  @override
  Component build(BuildContext context) {
    final theme = TuiTheme.of(context);

    return Container(
      decoration: BoxDecoration(
        border: BoxBorder.all(color: theme.outline),
      ),
      child: Text(
        'Hello!',
        style: TextStyle(color: theme.primary),
      ),
    );
  }
}
```

## Auto-detection

`NoctermApp` can automatically detect your terminal's brightness and apply an appropriate theme:

```dart
void main() {
  runApp(
    NoctermApp(
      // No theme specified - auto-detects terminal brightness
      child: MyApp(),
    ),
  );
}
```

When no `theme` is provided, nocterm will:
1. Query the terminal for its background color (OSC 11)
2. Check the `COLORFGBG` environment variable
3. On macOS, check the system Dark Mode setting
4. Fall back to the dark theme

You can also use `TuiThemeData.fromTerminal()` to get a theme matching the detected brightness:

```dart
final theme = TuiThemeData.fromTerminal();  // Returns dark or light theme
```

## Built-in themes

Nocterm includes six popular themes:

| Theme | Description |
|-------|-------------|
| `TuiThemeData.dark` | Default dark theme with blue accents |
| `TuiThemeData.light` | Light theme with dark text |
| `TuiThemeData.nord` | Arctic, north-bluish color palette |
| `TuiThemeData.dracula` | Vibrant dark theme with purple accents |
| `TuiThemeData.catppuccinMocha` | Warm, cozy dark theme |
| `TuiThemeData.gruvboxDark` | Retro groove theme with earthy colors |

### Theme gallery

<div style={{ display: 'grid', gridTemplateColumns: 'repeat(2, 1fr)', gap: '24px', marginTop: '16px', marginBottom: '24px' }}>
  <figure style={{ margin: 0 }}>
    <img src="/assets/theme-dark.png" alt="Dark theme" style={{ borderRadius: '8px', width: '100%', display: 'block' }} />
    <figcaption style={{ textAlign: 'center', marginTop: '8px', fontSize: '14px', color: 'var(--fd-foreground-secondary)' }}>Dark (Default)</figcaption>
  </figure>
  <figure style={{ margin: 0 }}>
    <img src="/assets/theme-light.png" alt="Light theme" style={{ borderRadius: '8px', width: '100%', display: 'block' }} />
    <figcaption style={{ textAlign: 'center', marginTop: '8px', fontSize: '14px', color: 'var(--fd-foreground-secondary)' }}>Light</figcaption>
  </figure>
  <figure style={{ margin: 0 }}>
    <img src="/assets/theme-nord.png" alt="Nord theme" style={{ borderRadius: '8px', width: '100%', display: 'block' }} />
    <figcaption style={{ textAlign: 'center', marginTop: '8px', fontSize: '14px', color: 'var(--fd-foreground-secondary)' }}>Nord</figcaption>
  </figure>
  <figure style={{ margin: 0 }}>
    <img src="/assets/theme-dracula.png" alt="Dracula theme" style={{ borderRadius: '8px', width: '100%', display: 'block' }} />
    <figcaption style={{ textAlign: 'center', marginTop: '8px', fontSize: '14px', color: 'var(--fd-foreground-secondary)' }}>Dracula</figcaption>
  </figure>
  <figure style={{ margin: 0 }}>
    <img src="/assets/theme-catppuccin.png" alt="Catppuccin Mocha theme" style={{ borderRadius: '8px', width: '100%', display: 'block' }} />
    <figcaption style={{ textAlign: 'center', marginTop: '8px', fontSize: '14px', color: 'var(--fd-foreground-secondary)' }}>Catppuccin Mocha</figcaption>
  </figure>
  <figure style={{ margin: 0 }}>
    <img src="/assets/theme-gruvbox.png" alt="Gruvbox Dark theme" style={{ borderRadius: '8px', width: '100%', display: 'block' }} />
    <figcaption style={{ textAlign: 'center', marginTop: '8px', fontSize: '14px', color: 'var(--fd-foreground-secondary)' }}>Gruvbox Dark</figcaption>
  </figure>
</div>

Switch themes by changing the `data` property:

```dart
TuiTheme(
  data: TuiThemeData.catppuccinMocha,
  child: MyApp(),
)
```

## Theme colors

`TuiThemeData` provides semantic colors for building UIs:

### Background and surface

```dart
final theme = TuiTheme.of(context);

// Main application background
theme.background
theme.onBackground  // Text on background

// Widget surfaces (cards, dialogs, menus)
theme.surface
theme.onSurface     // Text on surface
```

### Accent colors

```dart
// Primary accent for branding and emphasis
theme.primary
theme.onPrimary     // Text on primary

// Secondary accent for less prominent elements
theme.secondary
theme.onSecondary   // Text on secondary
```

### Status colors

```dart
// Error states and destructive actions
theme.error
theme.onError       // Text on error

// Success states
theme.success
theme.onSuccess     // Text on success

// Warning states
theme.warning
theme.onWarning     // Text on warning
```

### Outline colors

```dart
// Borders and dividers
theme.outline

// Subtle borders
theme.outlineVariant
```

## Using theme colors in components

Many built-in components automatically use theme colors:

| Component | Theme Colors Used |
|-----------|------------------|
| `DecoratedBox` / `Container` | `outline` for default border color |
| `Divider` | `outline` for line color |
| `ProgressBar` | `primary` for value, `outline` for background |
| `Scrollbar` | `onSurface` for thumb, `surface` for track |
| `TextField` | `primary` for cursor, `primary` (40% opacity) for selection |

For custom components, access the theme via `TuiTheme.of(context)`:

```dart
class StatusBadge extends StatelessComponent {
  const StatusBadge({required this.status, super.key});

  final String status;

  @override
  Component build(BuildContext context) {
    final theme = TuiTheme.of(context);

    // Choose color based on status
    final color = switch (status) {
      'success' => theme.success,
      'error' => theme.error,
      'warning' => theme.warning,
      _ => theme.secondary,
    };

    return Text(
      '[$status]',
      style: TextStyle(color: color),
    );
  }
}
```

## TuiColors: Adaptive color constants

`TuiColors` provides semantic color constants that automatically adapt to light and dark themes. Use these when you want colors that work in both themes without managing them yourself:

```dart
// TuiColors contains AdaptiveColor values
final textColor = TuiColors.primary;  // AdaptiveColor

// Resolve to actual Color based on theme brightness
final theme = TuiTheme.of(context);
final resolvedColor = textColor.resolve(theme.brightness);

Text('Accent text', style: TextStyle(color: resolvedColor));
```

Available `TuiColors` constants:

- `TuiColors.background` / `TuiColors.onBackground`
- `TuiColors.surface` / `TuiColors.onSurface`
- `TuiColors.primary` / `TuiColors.onPrimary`
- `TuiColors.secondary` / `TuiColors.onSecondary`
- `TuiColors.error` / `TuiColors.onError`
- `TuiColors.success` / `TuiColors.onSuccess`
- `TuiColors.warning` / `TuiColors.onWarning`
- `TuiColors.outline` / `TuiColors.outlineVariant`

## AdaptiveColor

`AdaptiveColor` defines colors that resolve differently based on theme brightness. Use this when creating custom colors that should adapt to light and dark themes:

```dart
// Define a custom adaptive color
const customHighlight = AdaptiveColor(
  light: Color(0x2563EB),  // Darker blue for light theme
  dark: Color(0x60A5FA),   // Lighter blue for dark theme
);

// Resolve based on current theme
final theme = TuiTheme.of(context);
final color = customHighlight.resolve(theme.brightness);
```

For colors that should stay the same in all themes, use `AdaptiveColor.all`:

```dart
// Brand color that doesn't change
const brandRed = AdaptiveColor.all(Color(0xFF0000));
```

## Creating custom themes

Create a custom theme by constructing `TuiThemeData` with your colors:

```dart
const myTheme = TuiThemeData(
  brightness: Brightness.dark,
  background: Color(0x1A1A2E),
  onBackground: Color(0xEAEAEA),
  surface: Color(0x16213E),
  onSurface: Color(0xEAEAEA),
  primary: Color(0xE94560),
  onPrimary: Color(0xFFFFFF),
  secondary: Color(0x0F3460),
  onSecondary: Color(0xEAEAEA),
  error: Color(0xFF6B6B),
  onError: Color(0xFFFFFF),
  success: Color(0x00D26A),
  onSuccess: Color(0x1A1A2E),
  warning: Color(0xFFB703),
  onWarning: Color(0x1A1A2E),
  outline: Color(0x533483),
  outlineVariant: Color(0x3A3A5C),
);
```

Use it like any built-in theme:

```dart
TuiTheme(
  data: myTheme,
  child: MyApp(),
)
```

### Extending existing themes

Use `copyWith` to modify an existing theme:

```dart
final customTheme = TuiThemeData.dark.copyWith(
  primary: Color(0xFF6B35),  // Custom primary color
  success: Color(0x10B981),  // Custom success color
);
```

## Dynamic theme switching

Change themes at runtime using state management:

```dart
class ThemeSwitcher extends StatefulComponent {
  const ThemeSwitcher({super.key});

  @override
  State<ThemeSwitcher> createState() => _ThemeSwitcherState();
}

class _ThemeSwitcherState extends State<ThemeSwitcher> {
  TuiThemeData _theme = TuiThemeData.dark;

  void _toggleTheme() {
    setState(() {
      _theme = _theme.brightness == Brightness.dark
          ? TuiThemeData.light
          : TuiThemeData.dark;
    });
  }

  @override
  Component build(BuildContext context) {
    return TuiTheme(
      data: _theme,
      child: Focusable(
        focused: true,
        onKeyEvent: (event) {
          if (event.logicalKey == LogicalKey.keyT) {
            _toggleTheme();
            return true;
          }
          return false;
        },
        child: MyApp(),
      ),
    );
  }
}
```

## Theme-aware components

Components that call `TuiTheme.of(context)` automatically rebuild when the theme changes. This happens because `TuiTheme` is an `InheritedComponent` that notifies dependents.

If you need to read the theme without rebuilding on changes (rare), use `TuiTheme.maybeOf`:

```dart
// Does NOT rebuild when theme changes
final theme = TuiTheme.maybeOf(context);
```

## Default theme

If no `TuiTheme` ancestor exists, `TuiTheme.of(context)` returns `TuiThemeData.dark` as the default. You can always access theme colors without wrapping your app in `TuiTheme`, though wrapping is recommended for consistency.

## Best practices

### Use semantic colors

Prefer theme colors over hardcoded values:

```dart
// Good - adapts to theme
Text('Error', style: TextStyle(color: theme.error))

// Avoid - fixed color regardless of theme
Text('Error', style: TextStyle(color: Colors.red))
```

### Maintain contrast

Use paired colors for proper contrast:

```dart
Container(
  decoration: BoxDecoration(color: theme.primary),
  child: Text(
    'Button',
    style: TextStyle(color: theme.onPrimary),  // Guaranteed contrast
  ),
)
```

### Test with multiple themes

Test your app with different themes to ensure colors work in all contexts:

```dart
// In tests, try different themes
await testNocterm('renders in dark theme', (tester) async {
  await tester.pumpComponent(
    TuiTheme(data: TuiThemeData.dark, child: MyComponent()),
  );
  // Verify appearance
});

await testNocterm('renders in light theme', (tester) async {
  await tester.pumpComponent(
    TuiTheme(data: TuiThemeData.light, child: MyComponent()),
  );
  // Verify appearance
});
```

## Next steps

- [Text & Styling](/docs/components/text) - Apply colors to text
- [State Management](/docs/fundamentals/state) - Manage theme state
